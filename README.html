<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.14: http://docutils.sourceforge.net/" />
<title>Tagnote: Minimalist Note Organization</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7952 2016-07-26 18:15:59Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

.subscript {
  vertical-align: sub;
  font-size: smaller }

.superscript {
  vertical-align: super;
  font-size: smaller }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left, table.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right, table.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

table.align-center {
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

.align-top    {
  vertical-align: top }

.align-middle {
  vertical-align: middle }

.align-bottom {
  vertical-align: bottom }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="tagnote-minimalist-note-organization">
<h1 class="title">Tagnote: Minimalist Note Organization</h1>

<div class="section" id="installation">
<h1>Installation</h1>
<p>If installing from PyPI:</p>
<pre class="literal-block">
$ pip3 install tagnote
</pre>
<p>If installing from source:</p>
<pre class="literal-block">
$ python3 setup.py sdist
$ pip3 install -U dist/tagnote-$VERSION.$FORMAT
</pre>
<p>To create and edit notes, Tagnote needs a text editor with an appropriate plugin. Currently, Tagnote only supports <tt class="docutils literal">vim</tt>, so you will need to make sure that <tt class="docutils literal">vim</tt> is installed.</p>
<p>To install the <tt class="docutils literal">vim</tt> plugin, copy <tt class="docutils literal">tagnote.vim</tt> to the <tt class="docutils literal"><span class="pre">~/.vim/plugin</span></tt> directory, creating the directory if needed.</p>
<p>For synchronizing notes, Tagnote requires the <tt class="docutils literal">rsync</tt> command. Install <tt class="docutils literal">rsync</tt> if you need to synchronize notes.</p>
</div>
<div class="section" id="introduction">
<h1>Introduction</h1>
<p>The first problem with note-taking software is you might not realize it's a note until after it's been written.</p>
<p>Normally, notes like this would exist as a collection of text files with gibberish names in several unrelated directories. Tagnote allows you to do this:</p>
<pre class="literal-block">
:W
&quot;~/notes/2018-07-11_19-37-44.txt&quot; [New] *L, *C written
</pre>
<p>There's no need to think of a name right now, and Tagnote preserves the most important metadata, the creation date, for you. There's no need to open up a separate note application, copy and paste the contents of the note, and then put the note in the right place. Tagnote is for when you want to get your idea out first and organize it later.</p>
</div>
<div class="section" id="working-with-labels">
<h1>Working with Labels</h1>
<p>If, after the fact, you wish to add a label, you can do this:</p>
<pre class="literal-block">
:A groceries
</pre>
<p>The Tagnote command can also do this if you know the name of the note:</p>
<pre class="literal-block">
$ tag add 2018-07-11_19-37-44.txt groceries
</pre>
<p>You can then open the note afterwards by label:</p>
<pre class="literal-block">
$ tag last groceries
</pre>
<p>This opens the note in a text editor. If you make changes to the note, you can either save them normally or create a copy of the note:</p>
<pre class="literal-block">
:W
&quot;~/notes/2018-07-11_19-45-04.txt&quot; [New] *L, *C written
</pre>
<p>This command remembers the current note's labels and applies them to the copy. When you run <tt class="docutils literal">tag last groceries</tt> again, Tagnote displays the most recent note, <tt class="docutils literal"><span class="pre">2018-07-11_19-45-04.txt</span></tt>.</p>
<p>You can also edit the previous note:</p>
<pre class="literal-block">
$ tag -r 1: last groceries
</pre>
<p>This passes the <tt class="docutils literal"><span class="pre">-r</span></tt> flag, which filters out the latest note using the slice <tt class="docutils literal">1:</tt>.</p>
<p>Instead of switching between these two notes manually, you can see their changes by running a diff on them:</p>
<pre class="literal-block">
$ tag last -d groceries
</pre>
<p>This opens up a diff editor with the changes highlighted.</p>
</div>
<div class="section" id="summary-commands">
<h1>Summary Commands</h1>
<p>You can see all members of the <tt class="docutils literal">groceries</tt> label:</p>
<pre class="literal-block">
$ tag members groceries
</pre>
<p>This lists all members of <tt class="docutils literal">groceries</tt> in sorted order. Sorting puts the notes in chronological order because of the way Tagnote names notes.</p>
<p>This is handy for reporting:</p>
<pre class="literal-block">
$ tag show groceries | less
</pre>
<p>This prints out the content of the notes as well as a formatted header and footer around each note. This is great for getting a summary of the material in each label. By default, <tt class="docutils literal">show</tt> puts notes in reverse chronological order.</p>
<p>You can also get a forward chronological account:</p>
<pre class="literal-block">
$ tag -o a show groceries | less
</pre>
<p>The <tt class="docutils literal"><span class="pre">-o</span></tt> flag takes the <tt class="docutils literal">a</tt> argument which is short for &quot;ascending.&quot;</p>
<p>You can confirm that a note is in fact a member of a label:</p>
<pre class="literal-block">
$ tag categories 2018-07-11_19-45-04.txt
</pre>
<p>This prints the labels the note is a part of, in this case <tt class="docutils literal">groceries</tt>.</p>
<p>You can also list all top-level tags:</p>
<pre class="literal-block">
$ tag members
</pre>
<p>You'll notice that this only includes <tt class="docutils literal">groceries</tt> and not the two notes. This is because the <tt class="docutils literal">members</tt> command only lists immediate children, and since <tt class="docutils literal">groceries</tt> is now the parent of the two notes, those two notes are not members of the top level.</p>
<p>The <tt class="docutils literal">show</tt> command works differently:</p>
<pre class="literal-block">
$ tag show | less
</pre>
<p>This lists all notes in reverse chronological order, even if they are children of another label. <tt class="docutils literal">show</tt> can also show notes from several labels:</p>
<pre class="literal-block">
:A foods

$ tag show groceries foods
</pre>
<p>Even if a note is a member of several labels, <tt class="docutils literal">show</tt> shows each note only once.</p>
</div>
<div class="section" id="important-filters">
<h1>Important Filters</h1>
<p>You can also ask Tagnote to search for text inside notes directly:</p>
<pre class="literal-block">
$ tag -s lentils -s kale show | less
</pre>
<p>This only shows notes that have both the text <tt class="docutils literal">lentils</tt> and the text <tt class="docutils literal">kale</tt> in them.</p>
<p>Similarly, you can search by date range:</p>
<pre class="literal-block">
$ tag -t 2018-07-11_19-40: -t 2005-*-29:2007 show
</pre>
<p>This shows notes created at 7:40 PM on July 11th, 2018 or later or notes created in 2005, 2006, or 2007 on the 29th, 30th, or 31st of each month, which means the command only includes the <tt class="docutils literal"><span class="pre">2018-07-11_19-45-04.txt</span></tt> note.</p>
</div>
<div class="section" id="dealing-with-remotes">
<h1>Dealing with Remotes</h1>
<p>You can back up your notes to another location:</p>
<pre class="literal-block">
$ tag push michael&#64;my-server:notes
</pre>
<p>This copies the directory containing your notes, by default <tt class="docutils literal">~/notes</tt>, to the remote location. The remote location can be anything <tt class="docutils literal">rsync</tt> accepts as a destination. Unlike in <tt class="docutils literal">rsync</tt>, the name you pass in the command is always the name of the immediate directory containing the notes. In this example, even if there is no trailing slash, the destination directory is never <tt class="docutils literal">notes/notes</tt>.</p>
<p>To change the directory Tagnote stores your notes, see the <a class="reference internal" href="#configuration">Configuration</a> section below. This doesn't move notes that already exist; use <tt class="docutils literal">tag push</tt> to copy them over before changing the directory.</p>
<p>When synchronizing between several copies of the notes, sometimes you need to copy a remote source into your notes directory:</p>
<pre class="literal-block">
$ tag pull michael&#64;my-server:notes
</pre>
<p>This works the same way as <tt class="docutils literal">tag push</tt> except in the opposite direction.</p>
<p>When there are conflicts, <tt class="docutils literal">tag push</tt> and <tt class="docutils literal">tag pull</tt> create backup files like <tt class="docutils literal"><span class="pre">2018-07-11_19-45-04.txt.2018-07-11_21-10-24.bak</span></tt>. Tagnote indicates the conflicted file and adds the timestamp when you ran <tt class="docutils literal">tag push</tt> or <tt class="docutils literal">tag pull</tt> as well as the <tt class="docutils literal">.bak</tt> extension. The new version exists as <tt class="docutils literal"><span class="pre">2018-07-11_19-45-04.txt</span></tt>, and the old version is the backup file named above.</p>
<p>If you want to accept all changes after a <tt class="docutils literal">push</tt> or a <tt class="docutils literal">pull</tt>, simply delete all <tt class="docutils literal">.bak</tt> files:</p>
<pre class="literal-block">
$ find ~/notes -name '*.bak' -delete
</pre>
<p>If there are changes you would like to keep, Tagnote provides a wizard to incorporate changes from <tt class="docutils literal">.bak</tt> files:</p>
<pre class="literal-block">
$ tag reconcile
</pre>
<p>This prints the conflicted file and the timestamp of the backup file and then prompts for an action. You can run the diff editor to reconcile changes by choosing the <tt class="docutils literal">edit</tt> action. If you close the diff editor and the conflicted file and its backup are the same, <tt class="docutils literal">reconcile</tt> deletes the backup file. To go to the next backup file, choose the <tt class="docutils literal">next</tt> action. To go to the next conflicted file, choose <tt class="docutils literal">skip</tt>. <tt class="docutils literal">quit</tt> exits the <tt class="docutils literal">reconcile</tt> command at any point.</p>
<p>In addition to <tt class="docutils literal">.bak</tt> files, the editor might generate other files, such as <tt class="docutils literal">.swp</tt> files, that the editor must resolve manually. To list all files that Tagnote doesn't recognize, run:</p>
<pre class="literal-block">
$ tag unknown
</pre>
<p>This prints out all such files.</p>
</div>
<div class="section" id="note-lifecycle">
<h1>Note Lifecycle</h1>
<p>You can import a pre-existing file as a note:</p>
<pre class="literal-block">
$ tag import asdlfkjfs.txt
</pre>
<p>This uses the modification time for the name of the note.</p>
<p>You can also remove tags and associations between tags:</p>
<pre class="literal-block">
$ tag remove 2018-07-11_19-45-04.txt groceries
$ tag remove 2018-07-11_19-45-04.txt
</pre>
<p>You must remove all associations for a tag before removing the tag itself.</p>
</div>
<div class="section" id="configuration">
<h1>Configuration</h1>
<p>Tagnote uses a configuration file for various options. By default, the configuration file exists at <tt class="docutils literal"><span class="pre">~/.tag.config.json</span></tt>. You can change this by passing a different value to the <tt class="docutils literal"><span class="pre">-c</span></tt> flag on the command line:</p>
<pre class="literal-block">
tag -c ~/other-tag.config.json ...
</pre>
<p>The configuration file is a JSON object that maps string configuration options to configuration values.</p>
<p>By default, the notes directory is at <tt class="docutils literal">~/notes</tt>. To change the notes directory, use the <tt class="docutils literal">notes_directory</tt> option:</p>
<pre class="literal-block">
{
...
&quot;notes_directory&quot;: &quot;Documents/notes&quot;,
...
}
</pre>
<p>Note that the value of <tt class="docutils literal">notes_directory</tt> is relative to the home directory.</p>
<p>Be sure to also update <tt class="docutils literal"><span class="pre">~/.vim/plugin/tagnote.vim</span></tt>:</p>
<pre class="literal-block">
...
let TAGNOTE_NOTES_DIRECTORY = simplify($HOME . '/Documents/notes')
...
</pre>
<p>By default, the editor is <tt class="docutils literal">vim</tt> with no arguments. To change the editor, use the <tt class="docutils literal">editor</tt> option:</p>
<pre class="literal-block">
{
...
&quot;editor&quot;: [&quot;vim&quot;, &quot;-n&quot;],
...
}
</pre>
<p>You can also set the editor using environment variables. In order, Tagnote prioritizes <tt class="docutils literal">TAGNOTE_EDITOR</tt>, then <tt class="docutils literal">VISUAL</tt>, and then <tt class="docutils literal">EDITOR</tt>. You cannot pass editor command arguments using environment variables, and the value in the configuration file takes priority over the environment variables.</p>
<p>Similarly, the default diff editor is <tt class="docutils literal">vimdiff</tt> with no arguments. To change the editor, use the <tt class="docutils literal">diff</tt> option:</p>
<pre class="literal-block">
{
...
&quot;diff&quot;: [&quot;meld&quot;],
...
}
</pre>
<p>You can also set the diff editor using the <tt class="docutils literal">TAGNOTE_DIFF</tt> environment variable. You cannot pass diff editor command arguments using environment variables, and the value in the configuration file takes priority over the environment variable.</p>
<p>By default, the rsync program is <tt class="docutils literal">rsync</tt>. To change the rsync command, use the <tt class="docutils literal">rsync</tt> option:</p>
<pre class="literal-block">
{
...
&quot;rsync&quot;: [&quot;/usr/local/bin/rsync&quot;],
...
}
</pre>
<p>The <tt class="docutils literal">TAGNOTE_RSYNC</tt> environment variable also sets the rsync command and is lower priority than the value in the configuration file.</p>
<p>By default, notes use local time for timestamps. To use UTC, update the config file:</p>
<pre class="literal-block">
{
...
&quot;utc&quot;: true,
...
}
</pre>
<p>Also update <tt class="docutils literal"><span class="pre">~/.vim/plugin/tagnote.vim</span></tt>:</p>
<pre class="literal-block">
...
let TAGNOTE_UTC = 1
...
</pre>
</div>
</div>
</body>
</html>
